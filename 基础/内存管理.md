目前的内存管理系统： 虚拟地址，分页装入， 软硬件结合

1.解决满了的问题，分页：每页大小4k ,内存中分成固定大小的页框（4k），把程序分成4K大小块，用到哪一块加载哪一块，加载的过程中，内存如果满了会把不常用的一块放到Swap分区,把最新的一块加载进来，这个过程就是叫LRU算法

2.解决相互打扰 虚拟空间

​	3.虚拟空间多大？寻址空间-64位系统2~64，比物理空间大很多 单位byte

​	4.进程独享整个系统+cpu

​    5.内存映射： 偏移量+段基地址 = 线性地址(虚拟空间)

​    6.线性地址通过 os+ mmu （软硬件结合）

3.缺页中断:

​    需要用的页面内存中没有，会产生缺页异常(中断)，由内核处理并加载



## ZGC

   算法叫做 Colored pointer

 GC记录在指针上，不记录在头部，内存可以立即被重用(immediate memory use)

  42位指针 寻址空间为4T （JDK13扩展到16T 2^44）

不支持32位，不支持指针压缩

load Barrier 根据指针颜色决定是否做一件事情

颜色指针本质上包含了地址映射的概念



## CPU 如何区分一个立即数和一条指令

总线内部分为:数据总线，地址总线 控制总线

目前地址总线：48位